<!DOCTYPE html>
<html>
    <head>
        <title>Twitter Listener</title>
        <!--Boostrap's CSS-->
        <link rel="stylesheet" type="text/css" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
        <!--Custom CSS-->
        <link rel="stylesheet" type="text/css" href="./css/style.css">
<<<<<<< HEAD
		<!--<script type="text/javascript" src="main.js">-->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jQuery/1.7.2/jQuery.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAydAiR-XMBxYvsZznPr-_Q0GzrluXUSXU&libraries=places" type="text/javascript"></script>
		<style type="text/css">
		 #map {
			width: 100%;
			height: 600px;
			text-align: center;
		  }
        </style>
=======
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jQuery/1.7.2/jQuery.min.js"></script>

>>>>>>> b231876ab64674dba5e71cdaca092b041adaf5e1
    </head>
    <body>

        <div class="container" id="page-container">


			<h1 id="app-name">
<<<<<<< HEAD
				<span class="glyphicon glyphicon-globe" ></span> Twitter Presidential Race
=======
				<span class="glyphicon glyphicon-globe" ></span> Twitter Listener
>>>>>>> b231876ab64674dba5e71cdaca092b041adaf5e1
			</h1>


			<h2 id="page-header">
<<<<<<< HEAD
				US election Tweets
			</h2>


			<div id="map">

			</div>



        </div>
		<script>
		var markers = [];
		function initMap() {

			var haightAshbury = {lat: 0, lng: 0};
			var coords = [{lat: 35.769222, lng: -50.446222},{lat: 35.769222, lng: -110.446222},{lat: 20.769222, lng: -100.446222},{lat: 32.769222, lng: -132.446222},{lat: 31.769, lng: -122.446},{lat: 39.769, lng: -122.446}]

			var styledMapType = new google.maps.StyledMapType(
			  [
					{
						"stylers": [
							{
								"hue": "#ff1a00"
							},
							{
								"invert_lightness": true
							},
							{
								"saturation": -100
							},
							{
								"lightness": 33
							},
							{
								"gamma": 0.5
							}
						]
					},
					{
						"featureType": "water",
						"elementType": "geometry",
						"stylers": [
							{
								"color": "#2D333C"
							}
						]
					}
				],
				{name: 'Styled Map'});

			map = new google.maps.Map(document.getElementById('map'), {
			  zoom: 2,
			  center: haightAshbury,
			  mapTypeControlOptions: {
				mapTypeIds: [
						'styled_map']
			  }
			});

			map.mapTypes.set('styled_map', styledMapType);
			map.setMapTypeId('styled_map');

			for (var x = 0; x < coords.length; x++) {
			  //addMarker(coords[x]);
			}
			// This event listener will call addMarker() when the map is clicked.
			map.addListener('click', function(event) {
			  addMarker(event.latLng);
			});

			// Adds a marker at the center of the map.


		  }


		  function addMarfafaker(location) {
			var marker = new google.maps.Marker({
			  position: location,
			  map: map,
			  icon: "Twitter_bird_logo.png"

			});
			markers.push(marker);
		  }

		  // Sets the map on all markers in the array.
		  function setMapOnAll(map) {
			for (var i = 0; i < markers.length; i++) {
			  markers[i].setMap(map);
			}
		  }

		  // Removes the markers from the map, but keeps them in the array.
		  function clearMarkers() {
			setMapOnAll(null);
		  }

		  // Shows any markers currently in the array.
		  function showMarkers() {
			setMapOnAll(map);
		  }

		  // Deletes all markers in the array by removing references to them.
		  function deleteMarkers() {
			clearMarkers();
			markers = [];
		  }

		  function getTweets() {
			$.ajax({
				url: 'http://localhost:8081/tweets',
				type:'GET',
				mimeType: 'application/json',
				datatype: 'json',
				async:true,
				crossDomain:true,
				cache: false,
				success: function (json) {
					console.log(json);
					console.log("Number of tweets recieved: " + json.tweets.length);
					for (var i = 0; i < json.tweets.length; i++) {
						json_location = json.tweets[i];
						latlon = new google.maps.LatLng(json_location[1], json_location[0]);
						addMarker(latlon);
					}
				},
				error: function () {
					alert("Twit bot not running on localhost.");
				}
			});
		  }

		  function start_service() {
			window.setInterval(getTweets, 5000);
		  }
		  start_service();

    </script>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAydAiR-XMBxYvsZznPr-_Q0GzrluXUSXU&callback=initMap"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
=======
				View Tweets by keyword
			</h2>

			<div id="box_form">
				<form id="zFormer" method="POST" action="former.php" name="former">
					<p>

            Screen Name: <input type='text' list='twitterSN'>
            <datalist id='twitterSN'>
               <option label='TwitterDev' value='TwitterDev'>
            </datalist>
            Slug: <input type='text' list='twitterSlug'>
            <datalist id='twitterSlug'>
              <option label='national-parks' value='national-parks'>
              <option label='twitterflock-interviews' value='twitterflock-interviews'>
            </datalist>


						<button type="button" class="button" id="clickButton" onclick="twitterSearch()">Search</button>
					</p>

				</form>
			</div>
        </div>

<div class="container">
  <div id="twitterEmbed">
  </div>
</div>
>>>>>>> b231876ab64674dba5e71cdaca092b041adaf5e1

        <!--
            NB: You generally do not want to publically expose the server structure (eg. ./node_modules/...)
            will sort that in later bootcamps with task-runners and the like.
            For now this is just a demonstration.

            Alternatively can use CDNs for bootstrap/jquery

		<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAydAiR-XMBxYvsZznPr-_Q0GzrluXUSXU&callback=initMap">
        </script>-->

        <!--jQuery Script-->
        <script src="./node_modules/jquery/dist/jquery.min.js"></script>
        <!--Bootstrap Script-->
        <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <!--Custom Script-->
<<<<<<< HEAD
        <script src="js/main.js"></script>
=======
        <script src="./js/main.js"></script>
        <script src="js/twitter.js"></script>
>>>>>>> b231876ab64674dba5e71cdaca092b041adaf5e1

    </body>
</html>
